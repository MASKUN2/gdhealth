<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tree.gdhealth.customer.mypage.MyPageMapper">
<select id="info" parameterType="int" resultType="com.tree.gdhealth.vo.CustomerMyPage">
	SELECT
	c.customer_id customerId,
	d.customer_name customerName,
	d.customer_email customerEmail,
	d.customer_birth customerBirth,
	d.customer_height customerHeight,
	d.customer_weight customerWeight,
	d.updatedate customerUpdatedate
	FROM customer c JOIN customer_detail d
	ON c.customer_no = d.customer_no
	WHERE c.customer_no = #{customerNo}
</select>
<select id="attendanceCount" parameterType="int" resultType="int">
	SELECT
		COUNT(*) count
	FROM customer_attendance
	WHERE customer_no = #{customerNo}
</select>
<select id="reviewCount" parameterType="int" resultType="int">
	SELECT
		COUNT(*) count
	FROM review
	WHERE customer_no = #{customerNo}
</select>
<select id="questionCount" parameterType="int" resultType="int">
	SELECT
		COUNT(*) count
	FROM question
	WHERE customer_no = #{customerNo}
</select>

</mapper>